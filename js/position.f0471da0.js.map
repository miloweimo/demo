{"version":3,"sources":["webpack:///./src/modules/position/index.vue?a30d","webpack:///./src/modules/position/index.vue","webpack:///src/modules/position/index.vue","webpack:///./src/modules/position/index.vue?6843","webpack:///./src/modules/position/index.vue?e770"],"names":["staticClass","staticStyle","style","handleDragBox","isSelectBox","on","_vm","staticRenderFns","timer","data","window","document","height","width","viewportRealtime","boxx","boxy","computed","viewport","body","clientWidth","clientHeight","created","addEventListener","resizeHandler","mounted","getViewport","getBoxPosition","destroyed","removeEventListener","methods","myDebounce","fn","delay","console","log","args","clearTimeout","setTimeout","apply","$refs","box","offsetLeft","offsetTop","e","movementX","movementY","boxElement","left","top","resetBox","component"],"mappings":"0GAAA,W,kFCA+B,EAAQ,W,IAAO,EAAU,EAAG,QAAC,EAAU,KAAOA,UAAY,G,OAAOC,QAAY,C,YAAW,O,YAAqB,CAAY,oBAACC,OAAO,a,MAAqC,WAAe,EAACC,e,GAAc,C,UAA+BC,EAAW,cAAQ,oBAAC,oBAAkYC,CAAE,EAAC,2mB,YAASC,OAAY,IAAIA,MAAO,aAAgCN,kBAAiB,SAACK,IAAG,M,YAAY,M,GAAkBC,CAAsB,sBAAC,oBAEjyBC,UAAe,EAAG,GAAE,qC,KC8BxB,IAAAC,EAAA,KAEe,OACfC,OACA,OACAC,cACAC,kBACAC,OAAA,EACAC,MAAA,EACAC,iBAAA,GACAV,aAAA,EACAW,KAAA,EACAC,KAAA,IAGAC,SAAA,CACAC,WACA,MAAAL,EAAAF,SAAAQ,KAAAC,YACAR,EAAAD,SAAAQ,KAAAE,aACAH,EAAA,GAAAL,OAAAD,IACA,OAAAM,IAGAI,UACAZ,OAAAa,iBAAA,cAAAC,gBAEAC,UACA,KAAAX,iBAAA,KAAAY,cACA,KAAAC,kBAEAC,YACAlB,OAAAmB,oBAAA,cAAAL,gBAEAM,QAAA,CACAJ,cACA,KAAAb,MAAAF,SAAAQ,KAAAC,YACA,KAAAR,OAAAD,SAAAQ,KAAAE,aACA,MAAAH,EAAA,QAAAL,WAAA,KAAAD,SACA,OAAAM,GAGAa,WAAAC,EAAAC,EAAA,GAEA,OADAC,QAAAC,IAAA,OAAAH,EAAAC,GACA,IAAAG,KAEA5B,GACA6B,aAAA7B,GAGAA,EAAA8B,WAAA,KACAN,EAAAO,MAAA,KAAAH,IACAH,KAIAT,gBACA,KAAAO,WAAA,UAAAjB,iBAAA,KAAAY,eAAA,QAGAC,iBACA,KAAAZ,KAAA,KAAAyB,MAAAC,IAAAC,WACA,KAAA1B,KAAA,KAAAwB,MAAAC,IAAAE,WAEAxC,cAAAyC,GACA,QAAAxC,YAAA,CACA8B,QAAAC,IAAAS,EAAAC,UAAAD,EAAAE,WACA,MAAAC,EAAA,KAAAP,MAAAC,IACA,KAAA1B,KAAA,KAAAyB,MAAAC,IAAAC,WACA,KAAA1B,KAAA,KAAAwB,MAAAC,IAAAE,UACAI,EAAA7C,MAAA8C,KAAA,KAAAjC,KAAA6B,EAAAC,UAAA,KACAE,EAAA7C,MAAA+C,IAAA,KAAAjC,KAAA4B,EAAAE,UAAA,OAGAI,WAEA,KAAAV,MAAAC,IAAAvC,MAAA8C,KAAA,GACA,KAAAR,MAAAC,IAAAvC,MAAA+C,IAAA,GACA,KAAAtB,iBACA,KAAAvB,aAAA,KC9G2X,I,wBCQvX+C,EAAY,eACd,EACA,EACA5C,GACA,EACA,KACA,WACA,MAIa,aAAA4C,E","file":"js/position.f0471da0.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=40725a44&prod&scoped=true&lang=css\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"pa-4\",staticStyle:{\"position\":\"relative\",\"border\":\"1px solid\"},style:(`height: ${_vm.height - 80}px;`),on:{\"mousemove\":_vm.handleDragBox,\"mouseup\":function($event){_vm.isSelectBox = false}}},[_c('h1',[_vm._v(\"元素位置\")]),_c('p',[_vm._v(\" \"+_vm._s(_vm.window?.innerWidth || _vm.document?.documentElement?.clientWidth || _vm.document?.body?.clientWidth)+\" \"+_vm._s(_vm.window?.innerHeight || _vm.document?.documentElement?.clientHeight || _vm.document?.body?.clientHeight)+\" 视口大小: \"+_vm._s(_vm.viewport)+\" 实时: \"+_vm._s(_vm.viewportRealtime)+\" \")]),_c('v-btn',{staticClass:\"mb-2\",on:{\"click\":_vm.resetBox}},[_vm._v(\" 回到原位 \")]),_c('div',{ref:\"box\",staticClass:\"box\",on:{\"mousedown\":function($event){_vm.isSelectBox = true}}},[_vm._v(\" \"+_vm._s(_vm.boxx)+\" \"+_vm._s(_vm.boxy)+\" \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    class=\"pa-4\"\r\n    style=\"position: relative;border: 1px solid;\"\r\n    :style=\"`height: ${height - 80}px;`\"\r\n    @mousemove=\"handleDragBox\"\r\n    @mouseup=\"isSelectBox = false\"\r\n  >\r\n    <h1>元素位置</h1>\r\n    <p>\r\n      {{ window?.innerWidth || document?.documentElement?.clientWidth || document?.body?.clientWidth }}\r\n      {{ window?.innerHeight || document?.documentElement?.clientHeight || document?.body?.clientHeight }}\r\n      视口大小: {{ viewport }} 实时: {{ viewportRealtime }}\r\n    </p>\r\n    <v-btn\r\n      class=\"mb-2\"\r\n      @click=\"resetBox\"\r\n    >\r\n      回到原位\r\n    </v-btn>\r\n    <div\r\n      ref=\"box\"\r\n      class=\"box\"\r\n      @mousedown=\"isSelectBox = true\"\r\n    >\r\n      {{ boxx }} {{ boxy }}\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nlet timer = null;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      window,\r\n      document,\r\n      height: 0,\r\n      width: 0,\r\n      viewportRealtime: '',\r\n      isSelectBox: false,\r\n      boxx: 0,\r\n      boxy: 0,\r\n    };\r\n  },\r\n  computed: {\r\n    viewport() {\r\n      const width = document.body.clientWidth;\r\n      const height = document.body.clientHeight;\r\n      const viewport = `${width} x ${height}`;\r\n      return viewport;\r\n    },\r\n  },\r\n  created() {\r\n    window.addEventListener(\"resize\", this.resizeHandler);\r\n  },\r\n  mounted() {\r\n    this.viewportRealtime = this.getViewport();\r\n    this.getBoxPosition();\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"resize\", this.resizeHandler);\r\n  },\r\n  methods: {\r\n    getViewport() {\r\n      this.width = document.body.clientWidth;\r\n      this.height = document.body.clientHeight;\r\n      const viewport = `${this.width} x ${this.height}`;\r\n      return viewport;\r\n    },\r\n    // 防抖\r\n    myDebounce(fn, delay = 0) {\r\n      console.log('防抖函数', fn, delay);\r\n      return ( ...args ) => {\r\n\r\n        if (timer) {\r\n          clearTimeout(timer);\r\n        }\r\n\r\n        timer = setTimeout(() => {\r\n          fn.apply(this, args);\r\n        }, delay);\r\n      };\r\n    },\r\n\r\n    resizeHandler() {\r\n      this.myDebounce(() => {this.viewportRealtime = this.getViewport()}, 300)();\r\n    },\r\n    // 获取box 元素位置 boxx boxy offsetLeft offsetTop\r\n    getBoxPosition() {\r\n      this.boxx = this.$refs.box.offsetLeft;\r\n      this.boxy = this.$refs.box.offsetTop;\r\n    },\r\n    handleDragBox(e) {\r\n      if(this.isSelectBox) {\r\n        console.log(e.movementX, e.movementY);\r\n        const boxElement = this.$refs.box;\r\n        this.boxx = this.$refs.box.offsetLeft;\r\n        this.boxy = this.$refs.box.offsetTop;\r\n        boxElement.style.left = `${this.boxx + e.movementX}px`;\r\n        boxElement.style.top = `${this.boxy + e.movementY}px`;\r\n      }\r\n    },\r\n    resetBox() {\r\n      // 删除left top\r\n      this.$refs.box.style.left = '';\r\n      this.$refs.box.style.top = '';\r\n      this.getBoxPosition();\r\n      this.isSelectBox = false;\r\n    }\r\n  },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.box {\r\n  width: 100px;\r\n  height: 100px;\r\n  background-color: rgba(239, 178, 64, 0.869);\r\n  /* 抓手 */\r\n  cursor: grab;\r\n  position: absolute;\r\n}\r\n/* 按下抓住 */\r\n.box:active {\r\n  cursor: grabbing;\r\n}\r\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=40725a44&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=40725a44&prod&scoped=true&lang=css\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"40725a44\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}