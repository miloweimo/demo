<template>
  <div>
    <h1 class="">Highchart</h1>
    <span class="text--subtitle-1 grey--text"
      >å…¼å®¹ IE6+ã€å®Œç¾æ”¯æŒç§»åŠ¨ç«¯ã€å›¾è¡¨ç±»å‹ä¸°å¯Œã€æ–¹ä¾¿å¿«æ·çš„ HTML5
      äº¤äº’æ€§å›¾è¡¨åº“</span
    >

    <h2>haha wode</h2>
    <span class="text--subtitle-1 grey--text">å¹´è½»äººçš„ç¬¬ä¸€ä¸ªğŸ¤®è¡¨</span>
    <div
      id="diagram1"
      class="highcharts-container diagram-style"
      ref="chart1"
      style="min-width:400px;height:400px;"
    >
      æˆ‘æ˜¯ä¸€ä¸ªhighchartå®¹å™¨div
    </div>

    <hr />

    <h2>å‚è€ƒ</h2>
    <p>
      <a href="https://www.highcharts.com.cn/docs">Highcharts æ–‡æ¡£</a>
    </p>
  </div>
</template>

<script>
import Highcharts from "highcharts/highstock";
import HighchartsMore from "highcharts/highcharts-more";
import HighchartsDrilldown from "highcharts/modules/drilldown";
import Highcharts3D from "highcharts/highcharts-3d";
HighchartsMore(Highcharts);
HighchartsDrilldown(Highcharts);
Highcharts3D(Highcharts);

export default {
  name: "highchart",
  mounted() {
    console.log("å›¾è¡¨1çš„æ•°æ®ï¼š", this.d1.options);
    this.haha();
    this.initchart();
  },
  methods: {
    initchart() {
      console.log("åˆå§‹åŒ–chart1", this.$el);
      // this.$el.style.width = (this.styles.width || 800) + "px";
      // this.$el.style.height = (this.styles.height || 400) + "px";
      // this.chart = new Highcharts.Chart(this.$el, this.options);

      console.log("åˆå§‹åŒ–chart1 refs", this.$refs.chart1);
      // this.$refs.chart1.width = (this.d1.styles.width || 800) + "px";
      // this.$refs.chart1.height = (this.d1.styles.height || 400) + "px";
      // 1. ç»‘å®š å›¾è¡¨çš„ç¬¬ä¸€ç§æ–¹å¼ #id
      this.chart = new Highcharts.Chart("diagram1", this.d1.options);
      // 1.1ä½¿ç”¨ document.getElementById('container')
      // this.chart = new Highcharts.Chart(document.getElementById('diagram1'), this.d1.options);
      // 1.2.
      //ä½¿ç”¨ $refs æ‰¾åˆ°è™šæ‹ŸDOM
      // this.chart = new Highcharts.Chart(this.$refs.chart1, this.d1.options);

      // 2ã€æˆ–è€…é€šè¿‡ chart.renderTo æ¥æŒ‡å®š
      // this.d1.options.chart.renderTo = "diagram1";
      // this.chart = new Highcharts.Chart(
      //   // Highcharts é…ç½®
      //   this.d1.options
      // );

      setTimeout(() => {
        this.d1.options.series[1].data[3] = 6;
        this.d1.options.series[1].data[4] = 6;
        this.d1.options.series[1].data[0] = Infinity;
        console.log(this.d1.options.series[1].data);
        this.d1.options.series[1].name = "å“ˆå“ˆ";

        this.d1.options.yAxis.title.text = "å–œæ¬¢è¯„åˆ†ï¼ˆæ»¡åˆ†-âˆï¼‰";
        this.chart = new Highcharts.Chart(this.$refs.chart1, this.d1.options);
      }, 2000);
    },
    haha() {
      console.log("haha");
    },
  },
  data() {
    return {
      d1: {
        options: {
          chart: {
            // https://api.highcharts.com.cn/highcharts/series.html
            type: "columnpyramid", //æŒ‡å®šå›¾è¡¨çš„ç±»å‹ï¼Œé»˜è®¤æ˜¯æŠ˜çº¿å›¾ï¼ˆlineï¼‰ area,arearange,areaspline,areasplinerange,bar,bellcurve,boxplot,bubble,bullet,column,columnpyramid,columnrange,cylinder,dependencywheel,dumbbell,errorbar,funnel,funnel3d,gauge,heatmap,histogram,item,line,lollipop,networkgraph,organization,packedbubble,pareto,pie,polygon,pyramid,pyramid3d,sankey,scatter,scatter3d,solidgauge,spline,streamgraph,sunburst,tilemap,timeline,treemap,variablepie,variwide,vector,venn,waterfall,windbarb,wordcloud,xrange
            backgroundColor: "#eefdec",
            borderColor: "#EBBA95",
            borderWidth: 5,
            borderRadius: 30,
            // margin: [0, 0, 0, 0], // å¤–è¾¹è· æ”¹äº†è½´çº¿çœ‹ä¸åˆ°äº†ã€‚ã€‚
            spacing: [50, 100, 10, 10], // å†…è¾¹è·
            // å…¶ä»–æ ·å¼ï¼š
            style: {
              fontFamily: "serif",
              fontSize: "15px",
              fontWeight: "bold",
            },
            colors: [
              "#ff8f3a",
              "#0d233a",
              "#8bbc21",
              "#910000",
              "#1aadce",
              "#492970",
              "#f28f43",
              "#77a1e5",
              "#c42525",
              "#a6c96a",
            ],
          },
          title: {
            text: "", // æ ‡é¢˜
          },
          xAxis: {
            categories: [
              "è‹¹æœ",
              "é¦™è•‰",
              "æ©™å­",
              "é›ªæ¢¨",
              "è¿·å¹»è˜‘è‡",
              "å¤ªç©ºè¾£é¸¡",
            ], // x è½´åˆ†ç±»
          },
          yAxis: {
            title: {
              text: "åƒ", // y è½´æ ‡é¢˜
            },
          },
          series: [
            {
              // æ•°æ®åˆ—
              name: "å°æ˜", // æ•°æ®åˆ—å
              data: [1, 0, 4], // æ•°æ®
            },
            {
              name: "å°çº¢",
              data: [5, 7, 3],
            },
          ],
        },
        styles: {
          width: "800px",
          height: "400px",
        },
      },
    };
  },
};
</script>

<style>
.diagram-style {
  margin-top: 10px;
  margin-bottom: 10px;
  outline: #ff6935 solid;
}
</style>
